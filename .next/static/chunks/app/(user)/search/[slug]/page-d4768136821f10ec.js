(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35],{7216:function(e,t,i){"use strict";var l=i(26314);t.Z=void 0;var n=l(i(80984)),s=i(57437),o=(0,n.default)((0,s.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.Z=o},46986:function(e,t,i){"use strict";var l=i(26314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(i(80984)),s=i(57437),o=(0,n.default)((0,s.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.default=o},94758:function(e,t,i){"use strict";var l=i(26314);t.Z=void 0;var n=l(i(80984)),s=i(57437),o=(0,n.default)((0,s.jsx)("path",{d:"M14 10H3v2h11v-2zm0-4H3v2h11V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM3 16h7v-2H3v2z"}),"PlaylistAdd");t.Z=o},20020:function(e,t,i){"use strict";var l=i(26314);t.Z=void 0;var n=l(i(80984)),s=i(57437),o=(0,n.default)((0,s.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"}),"ThumbDown");t.Z=o},67722:function(e,t,i){"use strict";var l=i(26314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(i(80984)),s=i(57437),o=(0,n.default)((0,s.jsx)("path",{d:"m10.89 18.28.57-2.89c.12-.59-.04-1.2-.42-1.66-.38-.46-.94-.73-1.54-.73H4v-1.08L6.57 6h8.09c.18 0 .34.16.34.34v7.84l-4.11 4.1M10 22l6.41-6.41c.38-.38.59-.89.59-1.42V6.34C17 5.05 15.95 4 14.66 4h-8.1c-.71 0-1.36.37-1.72.97l-2.67 6.15c-.11.25-.17.52-.17.8V13c0 1.1.9 2 2 2h5.5l-.92 4.65c-.05.22-.02.46.08.66.23.45.52.86.88 1.22L10 22zm10-7h2V4h-2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1z"}),"ThumbDownOffAlt");t.default=o},49605:function(e,t,i){"use strict";var l=i(26314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(i(80984)),s=i(57437),o=(0,n.default)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=o},63955:function(e,t,i){"use strict";var l=i(37014),n=i(28702),s=i(35843),o=i(87927);let a=(0,l.Z)({createStyledComponent:(0,s.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[`maxWidth${(0,n.Z)(String(i.maxWidth))}`],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,o.Z)({props:e,name:"MuiContainer"})});t.Z=a},51779:function(e,t,i){Promise.resolve().then(i.t.bind(i,78139,23)),Promise.resolve().then(i.bind(i,70772))},70772:function(e,t,i){"use strict";i.r(t);var l=i(57437),n=i(81774),s=i(63955),o=i(39227),a=i(90858),d=i(52653),r=i(82749),c=i(61396),u=i.n(c);t.default=e=>{let{data:t}=e,{data:i}=(0,r.useSession)();return(0,l.jsx)(s.Z,{children:null==t?void 0:t.map(e=>(0,l.jsxs)(o.Z,{display:"flex",sx:{"> div > div > a":{color:"unset",textDecoration:"unset"},img:{width:"100px",height:"100px",borderRadius:2}},children:[(0,l.jsx)(o.Z,{sx:{position:"relative"},children:(0,l.jsxs)(u(),{href:"/track/".concat(e._id,"?audio=").concat(e.audio,"&id=").concat(e._id),children:[(0,l.jsx)("img",{src:"".concat("http://160.25.81.159:8000","/image/song/").concat(e.cover),alt:""}),(null==e?void 0:e.isVip)&&(0,l.jsx)(a.Z,{title:"b\xe0i h\xe1t n\xe0y thuộc b\xe0i h\xe1t VIP",children:(0,l.jsx)(d.Z,{sx:{position:"absolute",top:8,left:5,background:"rgba(255, 255, 255, 0.7)","&:hover":{background:"white"}},size:"small",children:"VIP"})})]})}),(0,l.jsxs)(o.Z,{sx:{ml:3},children:[(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(u(),{href:"/track/".concat(e._id,"?audio=").concat(e.audio,"&id=").concat(e._id),children:null==e?void 0:e.name}),(0,l.jsx)(o.Z,{sx:{a:{textDecoration:"unset",color:"#aaa",fontSize:12}},children:null==e?void 0:e.users.map(e=>(0,l.jsxs)(u(),{href:"/detail/".concat(e._id),children:[e.name," "]}))})]}),(null==i?void 0:i.user)&&(0,l.jsx)(n.default,{song:e,session:null==i?void 0:i.user})]})]},e._id))})}},81774:function(e,t,i){"use strict";i.r(t);var l=i(57437),n=i(81835),s=i(46986),o=i(7216),a=i(67722),d=i(20020),r=i(49605),c=i(39227),u=i(90858),h=i(52653),v=i(2265),x=i(94758);t.default=e=>{var t,i,f;let{song:p,session:m}=e,[j,g]=(0,v.useState)((null==p?void 0:null===(t=p.like)||void 0===t?void 0:t.length)||0),[Z,k]=(0,v.useState)((null==p?void 0:null===(i=p.dislike)||void 0===i?void 0:i.length)||0),[z,b]=(0,v.useState)((null==p?void 0:null===(f=p.totalListen)||void 0===f?void 0:f.length)||0),[_,y]=(0,v.useState)(!1),[C,S]=(0,v.useState)(!1);(0,v.useEffect)(()=>{var e,t;if(!m)return;let i=m._id;(null==p?void 0:null===(e=p.like)||void 0===e?void 0:e.includes(i))&&y(!0),(null==p?void 0:null===(t=p.dislike)||void 0===t?void 0:t.includes(i))&&S(!0)},[m,p]);let w=async()=>{try{var e;let t=await (0,n.w)({url:"".concat("http://160.25.81.159:8000/api/v1","/songs/like/").concat(null==p?void 0:p._id),method:"PATCH",headers:{Authorization:"Bearer ".concat(m.access_token)}});C&&k(Z-1),(null==t?void 0:t.data)&&(g((null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.length)||0),y(!0),S(!1))}catch(e){console.error("Lỗi khi like b\xe0i h\xe1t",e)}},M=async()=>{try{var e;let t=await (0,n.w)({url:"".concat("http://160.25.81.159:8000/api/v1","/songs/dislike/").concat(null==p?void 0:p._id),method:"PATCH",headers:{Authorization:"Bearer ".concat(m.access_token)}});_&&g(j-1),(null==t?void 0:t.data)&&(k((null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.length)||0),S(!0),y(!1))}catch(e){console.error("Lỗi khi dislike b\xe0i h\xe1t",e)}};return(0,l.jsxs)(c.Z,{sx:{display:"flex",gap:4,mt:2},children:[(0,l.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",gap:1,cursor:"pointer"},children:[_?(0,l.jsx)(o.Z,{fontSize:"small",sx:{color:"red"},onClick:w}):(0,l.jsx)(s.default,{fontSize:"small",onClick:w}),(0,l.jsx)("span",{children:j})]}),(0,l.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",gap:1,cursor:"pointer"},children:[C?(0,l.jsx)(d.Z,{fontSize:"small",sx:{color:"blue"},onClick:M}):(0,l.jsx)(a.default,{fontSize:"small",onClick:M}),(0,l.jsx)("span",{children:Z})]}),(0,l.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,l.jsx)(r.default,{fontSize:"small"}),(0,l.jsx)("span",{children:z})]}),(0,l.jsx)(u.Z,{title:"Th\xeam v\xe0o danh s\xe1ch ph\xe1t",children:(0,l.jsx)(h.Z,{sx:{"&:hover":{background:"white"}},size:"small",children:(0,l.jsx)(x.Z,{fontSize:"small"})})})]})}},81835:function(e,t,i){"use strict";i.d(t,{w:function(){return l}});let l=async e=>{let{url:t,method:i,body:l,useCredentials:n=!1,headers:s={},nextOption:o={}}=e,a={method:i,headers:new Headers({"content-type":"application/json",...s}),body:l?JSON.stringify(l):null,...o};return n&&(a.credentials="include"),fetch(t,a).then(e=>e.ok?e.json():e.json().then(function(t){var i,l;return{statusCode:e.status,message:null!==(i=null==t?void 0:t.message)&&void 0!==i?i:"",error:null!==(l=null==t?void 0:t.error)&&void 0!==l?l:""}}))}}},function(e){e.O(0,[0,52,256,709,139,690,61,858,971,596,744],function(){return e(e.s=51779)}),_N_E=e.O()}]);